<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>avx-distributed-system - Avx Documentation</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <a href="../index.html" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
                    <span>‚ö°</span>
                    <span>Avx Distributed Systems</span>
                </a>
            </div>
            <div class="nav-controls">
                <button class="theme-toggle" onclick="toggleTheme()">‚òÄÔ∏è Modo Claro</button>
                <div class="language-selector">
                    <button class="language-btn" onclick="toggleLanguageDropdown()">üåç Idioma</button>
                    <div class="language-dropdown"></div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div style="margin-bottom: 2rem;">
            <a href="../index.html" style="color: var(--primary-orange);">‚Üê Voltar</a>
        </div>

        <!-- Module Header -->
        <section class="section">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                <span style="font-size: 3rem;">üçÑ</span>
                <h1 class="section-title">avx-distributed-system</h1>
            </div>
            <p style="font-size: 1.2rem; opacity: 0.8;">
                Sistema distribu√≠do tipo mic√©lio com comunica√ß√£o P2P, gossip e replica√ß√£o de dados descentralizada.
            </p>
        </section>

        <!-- Overview -->
        <section class="section">
            <h2 class="section-title">Vis√£o Geral</h2>
            <div class="code-block">
                <p><strong>avx-distributed-system</strong> implementa um sistema distribu√≠do inspirado na biologia dos fungos:</p>
                <ul>
                    <li>üçÑ <strong>Arquitetura Mic√©lio</strong> - Rede P2P descentralizada sem ponto √∫nico de falha</li>
                    <li>üîó <strong>Hifas (Conex√µes)</strong> - Links peer-to-peer entre n√≥s</li>
                    <li>üì¶ <strong>Esporos (Dados)</strong> - Pacotes replic√°veis com TTL e broadcast</li>
                    <li>üì¢ <strong>Gossip Protocol</strong> - Dissemina√ß√£o epid√™mica de dados</li>
                    <li>üîÑ <strong>Auto-Replica√ß√£o</strong> - Dados se propagam automaticamente pela rede</li>
                    <li>üí™ <strong>Resili√™ncia</strong> - Toler√¢ncia a falhas de n√≥s individuais</li>
                    <li>‚ö° <strong>Performance</strong> - Comunica√ß√£o ass√≠ncrona de alta performance</li>
                    <li>üåê <strong>Descoberta Autom√°tica</strong> - N√≥s descobrem peers dinamicamente</li>
                </ul>
            </div>
        </section>

        <!-- Types -->
        <section class="section">
            <h2 class="section-title">Tipos Dispon√≠veis</h2>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Tipo</th>
                        <th>Descri√ß√£o</th>
                        <th>Uso Principal</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Mycelium</code></td>
                        <td>Rede de comunica√ß√£o P2P principal</td>
                        <td>N√≥ do sistema distribu√≠do</td>
                    </tr>
                    <tr>
                        <td><code>Hypha</code></td>
                        <td>Conex√£o individual entre dois n√≥s</td>
                        <td>Canal de comunica√ß√£o P2P</td>
                    </tr>
                    <tr>
                        <td><code>SporeData</code></td>
                        <td>Pacote de dados replic√°vel</td>
                        <td>Unidade de informa√ß√£o distribu√≠da</td>
                    </tr>
                    <tr>
                        <td><code>GossipEngine</code></td>
                        <td>Motor de dissemina√ß√£o epid√™mica</td>
                        <td>Propaga√ß√£o de dados</td>
                    </tr>
                    <tr>
                        <td><code>GossipConfig</code></td>
                        <td>Configura√ß√£o do protocolo gossip</td>
                        <td>Par√¢metros de dissemina√ß√£o</td>
                    </tr>
                    <tr>
                        <td><code>SporeHandler</code></td>
                        <td>Trait para processar esporos</td>
                        <td>L√≥gica de processamento</td>
                    </tr>
                    <tr>
                        <td><code>SporeFilter</code></td>
                        <td>Filtro para selecionar esporos</td>
                        <td>Filtragem de dados</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Examples -->
        <section class="section">
            <h2 class="section-title">Exemplos de Uso</h2>
            
            <h3 style="color: var(--primary-orange); margin-top: 2rem;">Criar N√≥ do Mic√©lio</h3>
            <div class="code-block">
                <pre><code>use avx_distributed_system::{Mycelium, SporeData};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    // Criar n√≥ do mic√©lio
    let mycelium = Mycelium::new("node1", "0.0.0.0:7000").await?;
    
    println!("N√≥ iniciado em 0.0.0.0:7000");
    
    Ok(())
}</code></pre>
            </div>

            <h3 style="color: var(--primary-orange); margin-top: 2rem;">Conectar a Peers</h3>
            <div class="code-block">
                <pre><code>use avx_distributed_system::Mycelium;

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let mycelium = Mycelium::new("node1", "0.0.0.0:7000").await?;
    
    // Conectar a outros n√≥s (formando a rede)
    mycelium.connect_to_peer("192.168.1.100:7000").await?;
    mycelium.connect_to_peer("192.168.1.101:7000").await?;
    mycelium.connect_to_peer("192.168.1.102:7000").await?;
    
    println!("Conectado a {} peers", mycelium.peer_count());
    
    Ok(())
}</code></pre>
            </div>

            <h3 style="color: var(--primary-orange); margin-top: 2rem;">Liberar Esporos (Broadcast)</h3>
            <div class="code-block">
                <pre><code>use avx_distributed_system::{Mycelium, SporeData};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let mycelium = Mycelium::new("node1", "0.0.0.0:7000").await?;
    mycelium.connect_to_peer("192.168.1.100:7000").await?;
    
    // Criar e liberar esporo (broadcast para toda a rede)
    let spore = SporeData::new("email_received", b"email@example.com".to_vec(), 5);
    mycelium.release_spore(spore).await?;
    
    println!("Esporo liberado e propagando pela rede");
    
    Ok(())
}</code></pre>
            </div>

            <h3 style="color: var(--primary-orange); margin-top: 2rem;">Processar Esporos Recebidos</h3>
            <div class="code-block">
                <pre><code>use avx_distributed_system::{Mycelium, SporeHandler, SporeData};

struct EmailHandler;

impl SporeHandler for EmailHandler {
    fn handle_spore(&self, spore: &SporeData) {
        if spore.data_type == "email_received" {
            println!("Email recebido: {:?}", spore.payload);
        }
    }
}

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let mycelium = Mycelium::new("node1", "0.0.0.0:7000").await?;
    
    // Registrar handler
    mycelium.register_handler(EmailHandler);
    
    // Os esporos recebidos ser√£o automaticamente processados
    
    Ok(())
}</code></pre>
            </div>

            <h3 style="color: var(--primary-orange); margin-top: 2rem;">Configura√ß√£o Gossip Customizada</h3>
            <div class="code-block">
                <pre><code>use avx_distributed_system::{GossipEngine, GossipConfig};

let config = GossipConfig {
    fanout: 3,              // Propagar para 3 peers por round
    interval_ms: 1000,      // Intervalo de 1 segundo
    max_hops: 10,           // M√°ximo 10 hops
};

let gossip = GossipEngine::with_config(config);

// O gossip garante dissemina√ß√£o eficiente e confi√°vel</code></pre>
            </div>
        </section>

        <!-- API Reference -->
        <section class="section">
            <h2 class="section-title">Refer√™ncia da API</h2>
            
            <h3 style="color: var(--primary-orange);">Mycelium</h3>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Descri√ß√£o</th>
                        <th>Retorno</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>new(id, addr)</code></td>
                        <td>Cria novo n√≥ do mic√©lio</td>
                        <td><code>Result&lt;Mycelium&gt;</code></td>
                    </tr>
                    <tr>
                        <td><code>connect_to_peer(addr)</code></td>
                        <td>Conecta a outro n√≥</td>
                        <td><code>Result&lt;()&gt;</code></td>
                    </tr>
                    <tr>
                        <td><code>release_spore(spore)</code></td>
                        <td>Libera esporo na rede</td>
                        <td><code>Result&lt;()&gt;</code></td>
                    </tr>
                    <tr>
                        <td><code>register_handler(handler)</code></td>
                        <td>Registra processador de esporos</td>
                        <td><code>()</code></td>
                    </tr>
                    <tr>
                        <td><code>peer_count()</code></td>
                        <td>N√∫mero de peers conectados</td>
                        <td><code>usize</code></td>
                    </tr>
                    <tr>
                        <td><code>disconnect_peer(id)</code></td>
                        <td>Desconecta de um peer</td>
                        <td><code>Result&lt;()&gt;</code></td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: var(--primary-orange); margin-top: 2rem;">SporeData</h3>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Descri√ß√£o</th>
                        <th>Retorno</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>new(type, payload, ttl)</code></td>
                        <td>Cria novo esporo</td>
                        <td><code>SporeData</code></td>
                    </tr>
                    <tr>
                        <td><code>decrement_ttl()</code></td>
                        <td>Decrementa TTL</td>
                        <td><code>bool</code></td>
                    </tr>
                    <tr>
                        <td><code>is_expired()</code></td>
                        <td>Verifica se expirou</td>
                        <td><code>bool</code></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Performance -->
        <section class="section">
            <h2 class="section-title">Performance</h2>
            <div class="animation-showcase">
                <div class="animated-element">
                    üçÑ Distribui√ß√£o Massiva e Resiliente
                </div>
                <div style="margin-top: 2rem; text-align: left; max-width: 800px; margin-left: auto; margin-right: auto;">
                    <h3 style="color: var(--primary-orange);">Benchmarks</h3>
                    <table class="api-table">
                        <thead>
                            <tr>
                                <th>Opera√ß√£o</th>
                                <th>Tempo</th>
                                <th>Throughput</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Release Spore</td>
                                <td>~5Œºs</td>
                                <td>200K ops/s</td>
                            </tr>
                            <tr>
                                <td>P2P Message</td>
                                <td>~100Œºs</td>
                                <td>10K msgs/s por conex√£o</td>
                            </tr>
                            <tr>
                                <td>Gossip Round</td>
                                <td>~1ms</td>
                                <td>1000 rounds/s</td>
                            </tr>
                            <tr>
                                <td>Peer Discovery</td>
                                <td>~50ms</td>
                                <td>20 peers/s</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="color: var(--primary-orange); margin-top: 2rem;">Otimiza√ß√µes</h3>
                    <ul>
                        <li>‚úÖ Comunica√ß√£o ass√≠ncrona com Tokio</li>
                        <li>‚úÖ Zero-copy message passing</li>
                        <li>‚úÖ Connection pooling</li>
                        <li>‚úÖ Gossip probabil√≠stico otimizado</li>
                        <li>‚úÖ Compress√£o de payloads grandes</li>
                        <li>‚úÖ Cache de roteamento distribu√≠do</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Use Cases -->
        <section class="section">
            <h2 class="section-title">Casos de Uso</h2>
            
            <div class="module-card animated-element">
                <h3 class="module-title">üìß Sistema de Email Distribu√≠do</h3>
                <p>Implemente um sistema de email completamente descentralizado onde cada n√≥ pode enviar e receber emails.</p>
                <div class="code-block">
                    <pre><code>let mycelium = Mycelium::new("mail_node", "0.0.0.0:7000").await?;

// Conectar a outros servidores de email
mycelium.connect_to_peer("mail1.example.com:7000").await?;
mycelium.connect_to_peer("mail2.example.com:7000").await?;

// Enviar email (propaga automaticamente)
let email_spore = SporeData::new(
    "email",
    serde_json::to_vec(&email_data)?,
    10  // TTL: 10 hops
);

mycelium.release_spore(email_spore).await?;</code></pre>
                </div>
            </div>

            <div class="module-card animated-element" style="margin-top: 2rem;">
                <h3 class="module-title">üéÆ Sistema de Chat P2P</h3>
                <p>Crie aplica√ß√µes de chat sem servidor central, onde todos os participantes se comunicam diretamente.</p>
                <div class="code-block">
                    <pre><code>struct ChatHandler;

impl SporeHandler for ChatHandler {
    fn handle_spore(&self, spore: &SporeData) {
        if spore.data_type == "chat_message" {
            let msg: ChatMessage = serde_json::from_slice(&spore.payload)?;
            println!("{}: {}", msg.user, msg.text);
        }
    }
}

let mycelium = Mycelium::new("chat_node", "0.0.0.0:7000").await?;
mycelium.register_handler(ChatHandler);</code></pre>
                </div>
            </div>

            <div class="module-card animated-element" style="margin-top: 2rem;">
                <h3 class="module-title">üîÑ Sincroniza√ß√£o de Estado</h3>
                <p>Sincronize estado entre m√∫ltiplos servidores automaticamente com garantias de eventual consistency.</p>
                <div class="code-block">
                    <pre><code>// Servidor A altera estado
let state_spore = SporeData::new(
    "state_update",
    bincode::serialize(&new_state)?,
    5
);

mycelium.release_spore(state_spore).await?;

// Servidor B, C, D... recebem automaticamente
// Handler processa e atualiza estado local</code></pre>
                </div>
            </div>
        </section>

        <!-- License -->
        <section class="section">
            <h2 class="section-title">Licen√ßa</h2>
            <div class="code-block">
                <p><strong>Copyright ¬© 2025 N√≠colas √Åvila - Todos os Direitos Reservados</strong></p>
                <p>Este m√≥dulo faz parte do ecossistema propriet√°rio Avx.</p>
                <p>Para uso comercial, entre em contato:</p>
                <ul>
                    <li>üìß Email: nicolas@avila.inc</li>
                    <li>üåê Website: https://avila.inc</li>
                </ul>
            </div>
        </section>
    </div>

    <footer>
        <p>Copyright ¬© 2025 N√≠colas √Åvila - Todos os Direitos Reservados</p>
        <p>avx-distributed-system - Software Propriet√°rio</p>
    </footer>

    <script src="../assets/js/main.js"></script>
</body>
</html>