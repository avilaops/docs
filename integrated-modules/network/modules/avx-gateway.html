<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AVX Gateway - Gateway API de alta performance">
    <title>AVX Gateway - Documenta√ß√£o</title>
    <link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo"><a href="../index.html" style="text-decoration:none;color:inherit;">AVX Network</a></div>
                <div class="controls">
                    <button id="theme-toggle" class="theme-toggle">üåô</button>
                    <select id="lang-select" class="lang-select">
                        <option value="pt-BR">üáßüá∑ Portugu√™s</option>
                        <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                        <option value="ja">üáØüáµ Êó•Êú¨Ë™û</option>
                        <option value="zh-TW">üáπüáº ÁπÅÈ´î‰∏≠Êñá</option>
                        <option value="ur">üáµüá∞ ÿßÿ±ÿØŸà</option>
                        <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                        <option value="de">üá©üá™ Deutsch</option>
                        <option value="lv">üá±üáª Latvie≈°u</option>
                        <option value="uz">üá∫üáø O'zbek</option>
                        <option value="es">üá™üá∏ Espa√±ol</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul class="nav-links">
                <li><a href="#overview">Vis√£o Geral</a></li>
                <li><a href="#types">Tipos Dispon√≠veis</a></li>
                <li><a href="#examples">Exemplos</a></li>
                <li><a href="#api">API</a></li>
                <li><a href="#performance">Performance</a></li>
                <li><a href="#usecases">Casos de Uso</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <div class="hero">
                <h1>üåü AVX Gateway</h1>
                <p>Gateway API de alta performance com roteamento, autentica√ß√£o e load balancing</p>
            </div>

            <section id="overview" class="section fade-in">
                <h2>üìã Vis√£o Geral</h2>
                <p>AVX Gateway √© um API Gateway completo e de alta performance, constru√≠do do zero para lidar com tr√°fego em larga escala. Oferece roteamento avan√ßado, autentica√ß√£o, rate limiting, circuit breaker, cache, compress√£o e suporte a WebSocket e WebRTC.</p>

                <div class="modules-grid mt-3">
                    <div class="module-card">
                        <h3>‚ö° Performance Extrema</h3>
                        <p>150k+ requests/s com lat√™ncia sub-milissegundo e zero-copy routing</p>
                    </div>
                    <div class="module-card">
                        <h3>üîí Seguro</h3>
                        <p>JWT, OAuth2, API Keys, mTLS e rate limiting inteligente</p>
                    </div>
                    <div class="module-card">
                        <h3>üéØ Resiliente</h3>
                        <p>Circuit breaker, retry autom√°tico, health checks e failover</p>
                    </div>
                    <div class="module-card">
                        <h3>üöÄ Completo</h3>
                        <p>Load balancing, cache, compress√£o, m√©tricas e WebSocket/WebRTC</p>
                    </div>
                </div>
            </section>

            <section id="types" class="section fade-in">
                <h2>üì¶ Tipos Dispon√≠veis</h2>

                <h3>Core</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Gateway</code></td>
                            <td>Gateway principal com configura√ß√£o completa</td>
                        </tr>
                        <tr>
                            <td><code>GatewayBuilder</code></td>
                            <td>Construtor fluente para configura√ß√£o do gateway</td>
                        </tr>
                        <tr>
                            <td><code>Router</code></td>
                            <td>Roteador de requisi√ß√µes com pattern matching</td>
                        </tr>
                        <tr>
                            <td><code>Route</code></td>
                            <td>Defini√ß√£o de rota com path, m√©todo e backend</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="mt-3">Autentica√ß√£o</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>JwtAuth</code></td>
                            <td>Autentica√ß√£o JWT com valida√ß√£o de claims</td>
                        </tr>
                        <tr>
                            <td><code>OAuth2</code></td>
                            <td>Integra√ß√£o OAuth2 completa</td>
                        </tr>
                        <tr>
                            <td><code>ApiKeyAuth</code></td>
                            <td>Autentica√ß√£o via API keys</td>
                        </tr>
                        <tr>
                            <td><code>BasicAuth</code></td>
                            <td>Basic Authentication HTTP</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="mt-3">Middleware</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>RateLimiter</code></td>
                            <td>Limita√ß√£o de taxa por IP ou usu√°rio</td>
                        </tr>
                        <tr>
                            <td><code>CircuitBreaker</code></td>
                            <td>Circuit breaker para prote√ß√£o de backends</td>
                        </tr>
                        <tr>
                            <td><code>Cache</code></td>
                            <td>Cache de respostas com TTL e invalida√ß√£o</td>
                        </tr>
                        <tr>
                            <td><code>Compression</code></td>
                            <td>Compress√£o gzip/brotli de respostas</td>
                        </tr>
                        <tr>
                            <td><code>Cors</code></td>
                            <td>Configura√ß√£o CORS flex√≠vel</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="mt-3">Load Balancing</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>LoadBalancer</code></td>
                            <td>Balanceador de carga principal</td>
                        </tr>
                        <tr>
                            <td><code>RoundRobin</code></td>
                            <td>Estrat√©gia round-robin</td>
                        </tr>
                        <tr>
                            <td><code>LeastConnections</code></td>
                            <td>Estrat√©gia least connections</td>
                        </tr>
                        <tr>
                            <td><code>WeightedRoundRobin</code></td>
                            <td>Round-robin com pesos</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="examples" class="section fade-in">
                <h2>üí° Exemplos de Uso</h2>

                <h3>Gateway B√°sico</h3>
                <pre><code>use avx_gateway::{Gateway, Route};

#[tokio::main]
async fn main() -> Result<()> {
    let gateway = Gateway::builder()
        .route("/api/*", "http://backend:8080")
        .route("/auth/*", "http://auth-service:9000")
        .bind("0.0.0.0:8000")
        .serve()
        .await?;

    Ok(())
}</code></pre>

                <h3>Gateway com Autentica√ß√£o JWT</h3>
                <pre><code>use avx_gateway::{Gateway, JwtAuth};

let jwt_auth = JwtAuth::builder()
    .secret("your-secret-key")
    .algorithm("HS256")
    .issuer("avx-gateway")
    .build();

let gateway = Gateway::builder()
    .route("/api/public/*", "http://backend:8080")
    .route("/api/protected/*", "http://backend:8080")
        .with_auth(jwt_auth)
    .bind("0.0.0.0:8000")
    .serve()
    .await?;</code></pre>

                <h3>Gateway com Rate Limiting</h3>
                <pre><code>use avx_gateway::{Gateway, RateLimiter};
use std::time::Duration;

let rate_limiter = RateLimiter::builder()
    .max_requests(100)
    .window(Duration::from_secs(60))
    .by_ip(true)
    .build();

let gateway = Gateway::builder()
    .route("/api/*", "http://backend:8080")
        .with_middleware(rate_limiter)
    .bind("0.0.0.0:8000")
    .serve()
    .await?;</code></pre>

                <h3>Gateway com Circuit Breaker</h3>
                <pre><code>use avx_gateway::{Gateway, CircuitBreaker};
use std::time::Duration;

let circuit_breaker = CircuitBreaker::builder()
    .failure_threshold(5)
    .timeout(Duration::from_secs(30))
    .half_open_requests(3)
    .build();

let gateway = Gateway::builder()
    .route("/api/*", "http://unreliable-backend:8080")
        .with_circuit_breaker(circuit_breaker)
    .bind("0.0.0.0:8000")
    .serve()
    .await?;</code></pre>

                <h3>Gateway com Load Balancing</h3>
                <pre><code>use avx_gateway::{Gateway, LoadBalancer, RoundRobin};

let backends = vec![
    "http://backend-1:8080",
    "http://backend-2:8080",
    "http://backend-3:8080",
];

let load_balancer = LoadBalancer::builder()
    .backends(backends)
    .strategy(RoundRobin::new())
    .health_check_interval(Duration::from_secs(10))
    .build();

let gateway = Gateway::builder()
    .route("/api/*", load_balancer)
    .bind("0.0.0.0:8000")
    .serve()
    .await?;</code></pre>

                <h3>Gateway com Cache</h3>
                <pre><code>use avx_gateway::{Gateway, Cache};
use std::time::Duration;

let cache = Cache::builder()
    .ttl(Duration::from_secs(300))
    .max_size(1000)
    .cache_key_fn(|req| format!("{}:{}", req.method(), req.path()))
    .build();

let gateway = Gateway::builder()
    .route("/api/*", "http://backend:8080")
        .with_cache(cache)
    .bind("0.0.0.0:8000")
    .serve()
    .await?;</code></pre>

                <h3>Gateway com Compress√£o</h3>
                <pre><code>use avx_gateway::{Gateway, Compression, CompressionAlgorithm};

let compression = Compression::builder()
    .algorithm(CompressionAlgorithm::Brotli)
    .level(6)
    .min_size(1024) // S√≥ comprimir > 1KB
    .build();

let gateway = Gateway::builder()
    .route("/api/*", "http://backend:8080")
        .with_compression(compression)
    .bind("0.0.0.0:8000")
    .serve()
    .await?;</code></pre>

                <h3>Gateway Completo (Produ√ß√£o)</h3>
                <pre><code>use avx_gateway::*;
use std::time::Duration;

#[tokio::main]
async fn main() -> Result<()> {
    // Configurar autentica√ß√£o
    let jwt_auth = JwtAuth::builder()
        .secret(std::env::var("JWT_SECRET")?)
        .algorithm("HS256")
        .build();

    // Configurar rate limiting
    let rate_limiter = RateLimiter::builder()
        .max_requests(1000)
        .window(Duration::from_secs(60))
        .by_ip(true)
        .build();

    // Configurar load balancing
    let backends = vec![
        "http://backend-1:8080",
        "http://backend-2:8080",
        "http://backend-3:8080",
    ];

    let load_balancer = LoadBalancer::builder()
        .backends(backends)
        .strategy(LeastConnections::new())
        .health_check_interval(Duration::from_secs(5))
        .build();

    // Configurar circuit breaker
    let circuit_breaker = CircuitBreaker::builder()
        .failure_threshold(5)
        .timeout(Duration::from_secs(30))
        .build();

    // Configurar cache
    let cache = Cache::builder()
        .ttl(Duration::from_secs(300))
        .max_size(10000)
        .build();

    // Criar gateway
    let gateway = Gateway::builder()
        // Rotas p√∫blicas
        .route("/health", Health::new())
        .route("/api/public/*", "http://public-api:8080")
            .with_middleware(rate_limiter.clone())
            .with_cache(cache.clone())

        // Rotas protegidas
        .route("/api/protected/*", load_balancer)
            .with_auth(jwt_auth)
            .with_middleware(rate_limiter)
            .with_circuit_breaker(circuit_breaker)

        // WebSocket
        .route("/ws", "ws://websocket-server:8080")
            .with_auth(jwt_auth.clone())

        // Configura√ß√£o global
        .with_cors(Cors::permissive())
        .with_compression(Compression::default())
        .with_metrics(true)
        .with_tracing(true)
        .bind("0.0.0.0:8000")
        .serve()
        .await?;

    Ok(())
}</code></pre>
            </section>

            <section id="api" class="section fade-in">
                <h2>üìö Refer√™ncias da API</h2>

                <h3>Gateway</h3>
                <div class="module-card">
                    <h4><code>Gateway::builder() -> GatewayBuilder</code></h4>
                    <p>Cria construtor de gateway para configura√ß√£o completa.</p>
                </div>

                <div class="module-card">
                    <h4><code>GatewayBuilder::route(path, backend) -> Self</code></h4>
                    <p>Adiciona rota com pattern matching e backend target.</p>
                </div>

                <div class="module-card">
                    <h4><code>GatewayBuilder::bind(addr) -> Self</code></h4>
                    <p>Define endere√ßo de bind do gateway.</p>
                </div>

                <div class="module-card">
                    <h4><code>Gateway::serve() -> Result&lt;()&gt;</code></h4>
                    <p>Inicia o gateway e processa requisi√ß√µes.</p>
                </div>

                <h3 class="mt-3">Autentica√ß√£o</h3>
                <div class="module-card">
                    <h4><code>JwtAuth::builder() -> JwtAuthBuilder</code></h4>
                    <p>Cria construtor de autentica√ß√£o JWT.</p>
                </div>

                <div class="module-card">
                    <h4><code>OAuth2::new(client_id, client_secret) -> Self</code></h4>
                    <p>Cria integra√ß√£o OAuth2 com provedor.</p>
                </div>

                <div class="module-card">
                    <h4><code>ApiKeyAuth::new() -> Self</code></h4>
                    <p>Cria autentica√ß√£o via API keys.</p>
                </div>

                <h3 class="mt-3">Middleware</h3>
                <div class="module-card">
                    <h4><code>RateLimiter::builder() -> RateLimiterBuilder</code></h4>
                    <p>Cria construtor de rate limiter.</p>
                </div>

                <div class="module-card">
                    <h4><code>CircuitBreaker::builder() -> CircuitBreakerBuilder</code></h4>
                    <p>Cria construtor de circuit breaker.</p>
                </div>

                <div class="module-card">
                    <h4><code>Cache::builder() -> CacheBuilder</code></h4>
                    <p>Cria construtor de cache de respostas.</p>
                </div>
            </section>

            <section id="performance" class="section fade-in">
                <h2>‚ö° Performance</h2>

                <div class="performance-chart">
                    <h3>Benchmarks - Throughput</h3>
                    <div class="chart-bar">
                        <div class="chart-label">Request Routing</div>
                        <div class="chart-track">
                            <div class="chart-fill" data-value="96" style="width: 0;">150k req/s</div>
                        </div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Com Load Balancing</div>
                        <div class="chart-track">
                            <div class="chart-fill" data-value="92" style="width: 0;">135k req/s</div>
                        </div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Com JWT Auth</div>
                        <div class="chart-track">
                            <div class="chart-fill" data-value="88" style="width: 0;">120k req/s</div>
                        </div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Com Cache Hit</div>
                        <div class="chart-track">
                            <div class="chart-fill" data-value="100" style="width: 0;">500k req/s</div>
                        </div>
                    </div>
                </div>

                <div class="performance-chart mt-3">
                    <h3>Lat√™ncia (p99)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Opera√ß√£o</th>
                                <th>AVX Gateway</th>
                                <th>Melhoria</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Request Routing</td>
                                <td>650 Œºs</td>
                                <td>4.5x mais r√°pido</td>
                            </tr>
                            <tr>
                                <td>JWT Validation</td>
                                <td>1.2 ms</td>
                                <td>3.8x mais r√°pido</td>
                            </tr>
                            <tr>
                                <td>Cache Hit</td>
                                <td>180 Œºs</td>
                                <td>12x mais r√°pido</td>
                            </tr>
                            <tr>
                                <td>Load Balancing</td>
                                <td>850 Œºs</td>
                                <td>4.2x mais r√°pido</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="mt-3">Caracter√≠sticas de Performance</h3>
                <div class="modules-grid">
                    <div class="module-card">
                        <h4>‚úÖ Zero-Copy Routing</h4>
                        <p>Roteamento otimizado sem c√≥pias de dados</p>
                    </div>
                    <div class="module-card">
                        <h4>‚úÖ Connection Pooling</h4>
                        <p>Pool de conex√µes eficiente para backends</p>
                    </div>
                    <div class="module-card">
                        <h4>‚úÖ Async I/O</h4>
                        <p>Runtime ass√≠ncrono de alta performance</p>
                    </div>
                    <div class="module-card">
                        <h4>‚úÖ Smart Caching</h4>
                        <p>Cache inteligente com invalida√ß√£o eficiente</p>
                    </div>
                </div>
            </section>

            <section id="usecases" class="section fade-in">
                <h2>üé¨ Casos de Uso</h2>

                <div class="module-card">
                    <h3>üè¢ API Gateway Empresarial</h3>
                    <p>Centralize acesso a todos os microservi√ßos com autentica√ß√£o, rate limiting e observabilidade.</p>
                    <pre><code>let gateway = Gateway::builder()
    .route("/api/users/*", users_service)
    .route("/api/orders/*", orders_service)
    .route("/api/products/*", products_service)
    .with_auth(jwt_auth)
    .with_metrics(true)
    .serve().await?;</code></pre>
                </div>

                <div class="module-card mt-3">
                    <h3>üöÄ Edge Gateway</h3>
                    <p>Implante na borda para termina√ß√£o SSL, cache agressivo e prote√ß√£o DDoS.</p>
                    <pre><code>let gateway = Gateway::builder()
    .route("/*", origin_servers)
    .with_tls(tls_config)
    .with_cache(aggressive_cache)
    .with_rate_limiting(ddos_protection)
    .serve().await?;</code></pre>
                </div>

                <div class="module-card mt-3">
                    <h3>üåç Multi-Region Gateway</h3>
                    <p>Roteie tr√°fego para regi√µes mais pr√≥ximas com failover autom√°tico.</p>
                    <pre><code>let gateway = Gateway::builder()
    .route("/api/*", geo_load_balancer)
        .with_health_checks(true)
        .with_failover(true)
    .serve().await?;</code></pre>
                </div>

                <div class="module-card mt-3">
                    <h3>üéÆ Gaming Gateway</h3>
                    <p>Roteie tr√°fego WebSocket para servidores de jogo com baixa lat√™ncia.</p>
                    <pre><code>let gateway = Gateway::builder()
    .route("/ws/game", game_servers)
        .with_websocket(true)
        .with_sticky_sessions(true)
    .serve().await?;</code></pre>
                </div>
            </section>

            <section id="license" class="section fade-in">
                <h2>üìÑ Licen√ßa</h2>
                <p><strong>Copyright ¬© 2025 N√≠colas √Åvila - Todos os Direitos Reservados</strong></p>
                <p>Software Propriet√°rio - Veja <a href="../../LICENSE-PROPRIETARY.md">LICENSE-PROPRIETARY.md</a></p>
                <p class="mt-2">Para licenciamento comercial, entre em contato: <a href="mailto:nicolas@avila.inc">nicolas@avila.inc</a></p>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>¬© 2025 N√≠colas √Åvila - Todos os Direitos Reservados</p>
                <div class="footer-links">
                    <a href="https://avila.inc">Contato</a>
                    <a href="https://docs.avila.inc">Documenta√ß√£o</a>
                    <a href="../../LICENSE-PROPRIETARY.md">Licen√ßa</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
</body>
</html>
