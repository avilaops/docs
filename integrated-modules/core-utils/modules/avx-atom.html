<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>avx-atom - Avila Core Utils</title>
    <link rel="stylesheet" href="../assets/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">‚öõÔ∏è</div>
                <div class="logo-text">
                    <h1>avx-atom</h1>
                    <p>Estruturas de Dados At√¥micas de Alto Desempenho</p>
                </div>
            </div>
            <div class="nav-controls">
                <button id="theme-toggle" class="theme-toggle">üåì Tema</button>
                <select id="lang-selector" class="lang-selector">
                    <option value="pt-BR">üáßüá∑ Portugu√™s</option>
                    <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                    <option value="ja">üáØüáµ Êó•Êú¨Ë™û</option>
                    <option value="zh-TW">üáπüáº ÁπÅÈ´î‰∏≠Êñá</option>
                    <option value="ur">üáµüá∞ ÿßÿ±ÿØŸà</option>
                    <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                    <option value="de">üá©üá™ Deutsch</option>
                    <option value="es">üá™üá∏ Espa√±ol</option>
                    <option value="lv">üá±üáª Latvie≈°u</option>
                    <option value="uz">üá∫üáø O'zbek</option>
                </select>
                <a href="../index.html" style="color: white; text-decoration: none; padding: 0.5rem 1rem;">‚Üê Voltar</a>
            </div>
        </div>
    </header>

    <main>
        <!-- Vis√£o Geral -->
        <section class="section fade-in">
            <h2 class="section-title">üìã Vis√£o Geral</h2>
            <div class="code-block">
                <p><strong>avx-atom</strong> √© uma biblioteca de estruturas de dados fundamentais constru√≠da do zero com foco em performance e compatibilidade no_std.</p>
                <ul style="margin-top: 1rem; padding-left: 2rem;">
                    <li><strong>Zero-cost abstractions</strong> - Sem overhead de runtime</li>
                    <li><strong>Lock-free structures</strong> - Opera√ß√µes at√¥micas sem locks</li>
                    <li><strong>SIMD optimization</strong> - Acelera√ß√£o vetorial quando dispon√≠vel</li>
                    <li><strong>no_std compatible</strong> - Funciona em sistemas embarcados</li>
                    <li><strong>Cache-friendly</strong> - Otimizado para localidade de mem√≥ria</li>
                </ul>

                <div style="margin-top: 1.5rem;">
                    <span class="module-version">v0.1.0</span>
                    <span style="margin-left: 1rem; opacity: 0.8;">üì¶ Cargo: <code>avx-atom = "0.1.0"</code></span>
                </div>
            </div>
        </section>

        <!-- Tipos Dispon√≠veis -->
        <section class="section fade-in">
            <h2 class="section-title">üìö Tipos Dispon√≠veis</h2>

            <div class="api-table" style="overflow-x: auto;">
                <table style="width: 100%;">
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                            <th>Complexidade</th>
                            <th>Mem√≥ria</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>DynamicArray&lt;T&gt;</code></td>
                            <td>Array din√¢mico cont√≠guo</td>
                            <td>O(1) acesso, O(1) push amortizado</td>
                            <td>24 bytes + elementos</td>
                        </tr>
                        <tr>
                            <td><code>AssociativeArray&lt;K,V&gt;</code></td>
                            <td>Mapa chave-valor (HashMap/BTree)</td>
                            <td>O(1) avg / O(log n) no_std</td>
                            <td>Vari√°vel</td>
                        </tr>
                        <tr>
                            <td><code>StringBuffer</code></td>
                            <td>String UTF-8 cresc√≠vel</td>
                            <td>O(1) append amortizado</td>
                            <td>24 bytes + chars</td>
                        </tr>
                        <tr>
                            <td><code>SkipList&lt;K,V&gt;</code></td>
                            <td>Lista encadeada probabil√≠stica</td>
                            <td>O(log n) esperado</td>
                            <td>Vari√°vel com ponteiros</td>
                        </tr>
                        <tr>
                            <td><code>Trie&lt;V&gt;</code></td>
                            <td>√Årvore de prefixos</td>
                            <td>O(m) onde m = tamanho chave</td>
                            <td>Alto (muitos n√≥s)</td>
                        </tr>
                        <tr>
                            <td><code>BloomFilter</code></td>
                            <td>Filtro probabil√≠stico de pertencimento</td>
                            <td>O(k) onde k = fun√ß√µes hash</td>
                            <td>Bitarray compacto</td>
                        </tr>
                        <tr>
                            <td><code>LRUCache&lt;K,V&gt;</code></td>
                            <td>Cache com pol√≠tica LRU</td>
                            <td>O(1) get/put</td>
                            <td>HashMap + LinkedList</td>
                        </tr>
                        <tr>
                            <td><code>DisjointSet</code></td>
                            <td>Union-Find com path compression</td>
                            <td>O(Œ±(n)) quase constante</td>
                            <td>Array de parent + rank</td>
                        </tr>
                        <tr>
                            <td><code>FenwickTree&lt;T&gt;</code></td>
                            <td>√Årvore bin√°ria indexada</td>
                            <td>O(log n) update/query</td>
                            <td>Array de somas</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Exemplos de Uso -->
        <section class="section fade-in">
            <h2 class="section-title">üí° Exemplos de Uso</h2>

            <h3 style="color: var(--primary-color); margin-top: 2rem;">DynamicArray - Array Din√¢mico</h3>
            <div class="code-block">
                <pre>use avx_atom::DynamicArray;

fn main() {
    // Criar array vazio
    let mut numbers: DynamicArray&lt;i32&gt; = DynamicArray::new();

    // Adicionar elementos - O(1) amortizado
    numbers.push(10);
    numbers.push(20);
    numbers.push(30);

    // Acesso por √≠ndice - O(1)
    println!("Primeiro: {}", numbers[0]); // 10

    // Iterar
    for &num in &numbers {
        println!("{}", num);
    }

    // Capacidade e tamanho
    println!("Tamanho: {}, Capacidade: {}",
             numbers.len(), numbers.capacity());
}</pre>
            </div>

            <h3 style="color: var(--primary-color); margin-top: 2rem;">SkipList - Lista Encadeada Probabil√≠stica</h3>
            <div class="code-block">
                <pre>use avx_atom::skiplist::SkipList;

fn main() {
    // Criar SkipList
    let mut list = SkipList::new();

    // Inserir elementos - O(log n) esperado
    list.insert(5, "cinco");
    list.insert(1, "um");
    list.insert(10, "dez");
    list.insert(3, "tr√™s");

    // Buscar - O(log n)
    if let Some(value) = list.get(&5) {
        println!("Encontrado: {}", value); // "cinco"
    }

    // Remover - O(log n)
    list.remove(&3);

    // Iterar em ordem
    for (key, value) in list.iter() {
        println!("{}: {}", key, value);
    }
    // Output: 1: um, 5: cinco, 10: dez
}</pre>
            </div>

            <h3 style="color: var(--primary-color); margin-top: 2rem;">BloomFilter - Teste de Pertencimento</h3>
            <div class="code-block">
                <pre>use avx_atom::bloom::BloomFilter;

fn main() {
    // Criar filtro: 1000 elementos, 1% false positive
    let mut filter = BloomFilter::new(1000, 0.01);

    // Adicionar elementos
    filter.insert("user@avila.inc");
    filter.insert("admin@avila.inc");

    // Testar pertencimento
    println!("{}", filter.contains("user@avila.inc"));  // true
    println!("{}", filter.contains("guest@avila.inc")); // false (provavelmente)

    // Pode ter false positives, mas NUNCA false negatives
    // Se retorna false, elemento definitivamente n√£o est√° no set
    // Se retorna true, elemento provavelmente est√° no set
}</pre>
            </div>

            <h3 style="color: var(--primary-color); margin-top: 2rem;">LRUCache - Cache com Eviction</h3>
            <div class="code-block">
                <pre>use avx_atom::cache::LRUCache;

fn main() {
    // Cache com capacidade de 3 elementos
    let mut cache = LRUCache::new(3);

    // Inserir valores - O(1)
    cache.put(1, "A");
    cache.put(2, "B");
    cache.put(3, "C");

    // Acessar - O(1), move para frente
    println!("{:?}", cache.get(&1)); // Some("A")

    // Adicionar 4¬∫ elemento remove o menos usado (2)
    cache.put(4, "D");

    println!("{:?}", cache.get(&2)); // None (foi evicted)
    println!("{:?}", cache.get(&1)); // Some("A")
    println!("{:?}", cache.get(&3)); // Some("C")
    println!("{:?}", cache.get(&4)); // Some("D")
}</pre>
            </div>
        </section>

        <!-- Refer√™ncia da API -->
        <section class="section fade-in">
            <h2 class="section-title">üìñ Refer√™ncia da API</h2>

            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">DynamicArray&lt;T&gt;</h3>
            <div class="api-table" style="overflow-x: auto;">
                <table style="width: 100%;">
                    <thead>
                        <tr>
                            <th>M√©todo</th>
                            <th>Descri√ß√£o</th>
                            <th>Complexidade</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>new() -> Self</code></td>
                            <td>Cria array vazio</td>
                            <td>O(1)</td>
                        </tr>
                        <tr>
                            <td><code>with_capacity(cap) -> Self</code></td>
                            <td>Cria com capacidade pr√©-alocada</td>
                            <td>O(n)</td>
                        </tr>
                        <tr>
                            <td><code>push(&mut self, value: T)</code></td>
                            <td>Adiciona elemento no final</td>
                            <td>O(1) amort.</td>
                        </tr>
                        <tr>
                            <td><code>pop(&mut self) -> Option&lt;T&gt;</code></td>
                            <td>Remove e retorna √∫ltimo elemento</td>
                            <td>O(1)</td>
                        </tr>
                        <tr>
                            <td><code>get(&self, index) -> Option&lt;&T&gt;</code></td>
                            <td>Acessa elemento por √≠ndice</td>
                            <td>O(1)</td>
                        </tr>
                        <tr>
                            <td><code>len(&self) -> usize</code></td>
                            <td>Retorna n√∫mero de elementos</td>
                            <td>O(1)</td>
                        </tr>
                        <tr>
                            <td><code>capacity(&self) -> usize</code></td>
                            <td>Retorna capacidade alocada</td>
                            <td>O(1)</td>
                        </tr>
                        <tr>
                            <td><code>clear(&mut self)</code></td>
                            <td>Remove todos os elementos</td>
                            <td>O(n)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--primary-color); margin: 2rem 0 1rem;">SkipList&lt;K, V&gt;</h3>
            <div class="api-table" style="overflow-x: auto;">
                <table style="width: 100%;">
                    <thead>
                        <tr>
                            <th>M√©todo</th>
                            <th>Descri√ß√£o</th>
                            <th>Complexidade</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>new() -> Self</code></td>
                            <td>Cria skiplist vazia</td>
                            <td>O(1)</td>
                        </tr>
                        <tr>
                            <td><code>insert(&mut self, K, V)</code></td>
                            <td>Insere par chave-valor</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td><code>get(&self, &K) -> Option&lt;&V&gt;</code></td>
                            <td>Busca valor por chave</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td><code>remove(&mut self, &K) -> Option&lt;V&gt;</code></td>
                            <td>Remove e retorna valor</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td><code>contains_key(&self, &K) -> bool</code></td>
                            <td>Verifica exist√™ncia de chave</td>
                            <td>O(log n)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Performance -->
        <section class="section fade-in">
            <h2 class="section-title">‚ö° Performance</h2>

            <div class="perf-chart">
                <h3 style="margin-bottom: 1.5rem;">Benchmarks (ops/sec)</h3>

                <div class="perf-bar">
                    <div class="perf-label">DynamicArray::push</div>
                    <div class="perf-bar-container">
                        <div class="perf-bar-fill" data-width="98" style="width: 0%;">980M ops/s</div>
                    </div>
                </div>

                <div class="perf-bar">
                    <div class="perf-label">SkipList::insert</div>
                    <div class="perf-bar-container">
                        <div class="perf-bar-fill" data-width="85" style="width: 0%;">12M ops/s</div>
                    </div>
                </div>

                <div class="perf-bar">
                    <div class="perf-label">BloomFilter::contains</div>
                    <div class="perf-bar-container">
                        <div class="perf-bar-fill" data-width="95" style="width: 0%;">450M ops/s</div>
                    </div>
                </div>

                <div class="perf-bar">
                    <div class="perf-label">LRUCache::get</div>
                    <div class="perf-bar-container">
                        <div class="perf-bar-fill" data-width="90" style="width: 0%;">180M ops/s</div>
                    </div>
                </div>
            </div>

            <div class="code-block" style="margin-top: 2rem;">
                <h3>Caracter√≠sticas de Performance</h3>
                <ul style="margin-top: 1rem; padding-left: 2rem;">
                    <li><strong>Zero allocations</strong> no hot path sempre que poss√≠vel</li>
                    <li><strong>Cache-line optimization</strong> - estruturas alinhadas para CPU cache</li>
                    <li><strong>SIMD quando dispon√≠vel</strong> - vetoriza√ß√£o autom√°tica</li>
                    <li><strong>Inline agressivo</strong> - fun√ß√µes pequenas sempre inlined</li>
                    <li><strong>Monomorphization</strong> - c√≥digo especializado por tipo</li>
                </ul>
            </div>
        </section>

        <!-- Casos de Uso -->
        <section class="section fade-in">
            <h2 class="section-title">üéØ Casos de Uso</h2>

            <div class="use-cases">
                <div class="use-case-card">
                    <div class="use-case-icon">üíæ</div>
                    <h3>Sistemas de Cache</h3>
                    <p>LRUCache para caching de queries de banco de dados com eviction autom√°tico</p>
                </div>

                <div class="use-case-card">
                    <div class="use-case-icon">üîç</div>
                    <h3>Busca e Indexa√ß√£o</h3>
                    <p>Trie para autocomplete e busca de prefixos em tempo real</p>
                </div>

                <div class="use-case-card">
                    <div class="use-case-icon">üìä</div>
                    <h3>An√°lise de Dados</h3>
                    <p>FenwickTree para c√°lculos de somas de range em s√©ries temporais</p>
                </div>

                <div class="use-case-card">
                    <div class="use-case-icon">üåê</div>
                    <h3>Grafos e Redes</h3>
                    <p>DisjointSet para algoritmos de conectividade e detec√ß√£o de ciclos</p>
                </div>

                <div class="use-case-card">
                    <div class="use-case-icon">üîê</div>
                    <h3>Deduplica√ß√£o</h3>
                    <p>BloomFilter para filtrar URLs duplicadas em crawlers web</p>
                </div>

                <div class="use-case-card">
                    <div class="use-case-icon">‚ö°</div>
                    <h3>Real-time Systems</h3>
                    <p>SkipList para √≠ndices ordenados com inser√ß√£o r√°pida</p>
                </div>
            </div>
        </section>

        <!-- Licen√ßa -->
        <section class="section fade-in">
            <h2 class="section-title">üìú Licen√ßa</h2>
            <div class="code-block">
                <p><strong>Licen√ßa Propriet√°ria</strong></p>
                <p>Copyright ¬© 2025 N√≠colas √Åvila - Todos os Direitos Reservados</p>
                <p style="margin-top: 1rem;">
                    Este m√≥dulo faz parte do ecossistema Avila Core Utils e est√° sob licen√ßa propriet√°ria.
                    Para uso comercial ou mais informa√ß√µes, entre em contato:
                </p>
                <ul style="margin-top: 1rem; padding-left: 2rem;">
                    <li>üìß Email: <a href="mailto:nicolas@avila.inc" style="color: var(--primary-color);">nicolas@avila.inc</a></li>
                    <li>üåê Website: <a href="https://avila.inc" style="color: var(--primary-color);">https://avila.inc</a></li>
                    <li>üìö Docs: <a href="https://docs.avila.inc" style="color: var(--primary-color);">https://docs.avila.inc</a></li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">AVILA INC.</div>
            <div class="footer-links">
                <a href="https://avila.inc">Website</a>
                <a href="mailto:nicolas@avila.inc">Contato</a>
                <a href="https://github.com/avilaops">GitHub</a>
                <a href="../index.html">Voltar</a>
            </div>
            <div>
                <p style="font-size: 0.9rem; opacity: 0.8;">
                    ¬© 2025 N√≠colas √Åvila. Todos os direitos reservados.
                </p>
            </div>
        </div>
    </footer>

    <script src="../assets/app.js"></script>
    <script>
        window.addEventListener('load', () => {
            setTimeout(() => {
                const bars = document.querySelectorAll('.perf-bar-fill');
                bars.forEach(bar => {
                    const width = bar.getAttribute('data-width');
                    bar.style.width = width + '%';
                });
            }, 300);
        });
    </script>
</body>
</html>
